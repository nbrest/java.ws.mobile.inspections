<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html">
<meta name="viewport" content="width=device-width">
<meta name="author" content="nbrest">
<meta name="mobile-web-app-capable" content="yes">

<title>KameHouse - Server Management</title>
<link rel="icon" type="img/ico" href="/kame-house/img/favicon.ico" />
<script src="/cordova.js"></script>
<script src="/kame-house/lib/js/jquery.js"></script>
<script src="/kame-house/kamehouse/js/kamehouse.js"></script>
<link rel="stylesheet" href="/kame-house/lib/css/bootstrap.min.css" />
<link rel="stylesheet" href="/kame-house/kamehouse/css/kamehouse.css" />
</head>
<body>
  <div class="main-body">
  <div class="banner-wrapper">
  <div id="banner" class="fade-in-out-15s banner-gohan-ssj2">
    <div class="default-layout banner-text">
      <h1>Server Management</h1>
      <div id="banner-server-name"></div>
    </div>
  </div>
  </div>
  <div class="server-management">

    <div class="bg-lighter-1-kh">
    <div class="default-layout screen-section p-15-d-kh p-15-m-kh">
      <br>
      <h5 class="h5-kh txt-l-d-kh txt-c-m-kh">Screen</h5>
      <br>
      <p>Control the screen of the current server with Unlock, Wake-Up screen and Lock commands</p>
      <img class="img-btn-kh m-50-d-l-kh m-50-m-l-kh m-50-d-r-kh m-50-m-r-kh"
        onclick="kameHouse.extension.serverManager.post('/screen/unlock', null)"
        src="/kame-house/img/pc/unlock-green.png" alt="Unlock" title="Unlock" />
      <img class="img-btn-kh m-50-d-r-kh m-50-m-r-kh"
        onclick="kameHouse.extension.serverManager.post('/screen/wake-up', null)"
        src="/kame-house/img/pc/mouse-click.png" alt="Wake-Up" title="Wake-Up" />
      <img class="img-btn-kh m-10-d-r-kh m-10-m-r-kh"
        onclick="kameHouse.extension.serverManager.post('/screen/lock', null)"
        src="/kame-house/img/pc/lock-red.png" alt="Lock" title="Lock" />
    </div> 
    <br>
    </div>

    <div class="p-15-d-kh p-15-m-kh">
    <div class="default-layout pm-section">
    <br>
    <h5 class="h5-kh txt-c-m-kh">Power Management</h5>
    <br>
    <table class="w-100-pc-kh">
    <caption class="hidden-kh">Shutdown</caption>
    <tbody>
    <tr class="hidden-kh">
      <th scope="row" class="hidden-kh">Shutdown</th>
    </tr>
    <tr><td><h6 class="h6-kh txt-l-d-kh txt-l-m-kh">Shutdown</h6></td></tr>
    <tr><td>
      <div class="fl-l-d-kh">
        <p>Commands to shutdown the server after the specified time, cancel a scheduled shutdown and check the status of an active shutdown</p>
        <select class="select-kh-dark m-10-d-r-kh m-10-m-r-kh" id="shutdown-delay-dropdown">
          <option value="5400">90 Min</option>
          <option value="60">1 Min</option>
        </select>
        <img class="img-btn-kh m-50-d-r-kh m-50-m-r-kh"
          onclick="kameHouse.extension.serverManager.setShutdownCommand()"
          src="/kame-house/img/pc/shutdown-red.png" alt="Shutdown" title="Shutdown" />
        <img class="img-btn-kh m-50-d-r-kh m-50-m-r-kh"
          onclick="kameHouse.extension.serverManager.cancelShutdownCommand()"
          src="/kame-house/img/pc/shutdown-green.png" alt="Cancel Shutdown" title="Cancel Shutdown" />
        <img class="img-btn-kh m-10-d-r-kh m-10-m-r-kh"
          onclick="kameHouse.extension.serverManager.getShutdownStatus(true)"
          src="/kame-house/img/other/sync-btn-info.png" alt="Refresh Shutdown Status" 
          title="Refresh Shutdown Status" />
      </div>
    </td></tr>
    <tr><td>
      <div id="shutdown-status" class="status-message-box fl-l-d-kh">
        Shutdown status: -
      </div>
    </td></tr>
    </tbody>
    </table>

    <br><br>

    <table class="w-100-pc-kh">
    <caption class="hidden-kh">Suspend</caption>
    <tbody>
    <tr class="hidden-kh">
      <th scope="row" class="hidden-kh">Suspend</th>
    </tr>
    <tr><td><h6 class="h6-kh txt-r-d-kh">Suspend</h6></td></tr>
    <tr><td>
      <div class="fl-r-d-kh">
        <p>Send the server into a hibernation state</p>
        <img class="img-btn-kh m-25-d-r-kh m-25-m-r-kh m-10-d-l-kh m-10-m-l-kh fl-r-d-kh fl-l-m-kh"
          onclick="kameHouse.extension.serverManager.getSuspendStatus(true)"
          src="/kame-house/img/other/sync-btn-info.png" alt="Refresh Suspend Status" 
          title="Refresh Suspend Status" />
        <img class="img-btn-kh m-25-d-r-kh m-25-m-r-kh m-10-d-l-kh m-10-m-l-kh fl-r-d-kh fl-l-m-kh"
          onclick="kameHouse.extension.serverManager.cancelSuspendCommand()"
          src="/kame-house/img/pc/hibernate-green.png" alt="Cancel Suspend" title="Cancel Suspend" />
        <img class="img-btn-kh m-25-d-r-kh m-25-m-r-kh m-10-d-l-kh m-10-m-l-kh fl-r-d-kh fl-l-m-kh"
          onclick="kameHouse.extension.serverManager.setSuspendCommand()"
          src="/kame-house/img/pc/hibernate-red.png" alt="Suspend" title="Suspend" />
        <br class="mobile-br-kh">
        <select class="select-kh-dark m-10-d-r-kh m-10-m-r-kh m-10-m-kh fl-r-d-kh fl-l-m-kh" id="suspend-delay-dropdown-minutes">
            <option value="2700">45 Minutes</option>
            <option value="1800">30 Minutes</option>
            <option value="900">15 Minutes</option>
            <option value="0" selected>0 Minutes</option>
        </select>
        <select class="select-kh-dark m-10-d-r-kh m-10-m-r-kh m-10-m-kh fl-r-d-kh fl-l-m-kh" id="suspend-delay-dropdown-hours">
          <option value="43200">12 Hours</option>
          <option value="39600">11 Hours</option>
          <option value="36000">10 Hours</option>
          <option value="32400">9 Hours</option>
          <option value="28800">8 Hours</option>
          <option value="25200">7 Hours</option>
          <option value="21600">6 Hours</option>
          <option value="18000">5 Hours</option>
          <option value="14400">4 Hours</option>
          <option value="10800">3 Hours</option>
          <option value="7200" selected>2 Hours</option>
          <option value="3600">1 Hour</option>
          <option value="0">0 Hours</option>
        </select>
      </div>
    </td></tr>
    <tr><td>
      <div id="suspend-status" class="status-message-box fl-r-d-kh">
        Suspend status: - 
      </div>
    </td></tr>
    </tbody>
    </table>

    <br><br>
    <table class="w-100-pc-kh">
    <caption class="hidden-kh">Reboot</caption>
    <tbody>
    <tr class="hidden-kh">
      <th scope="row" class="hidden-kh">Reboot</th>
    </tr>
    <tr><td><h6 class="h6-kh txt-l-d-kh txt-l-m-kh">Reboot</h6></td></tr>
    <tr><td>
      <div class="fl-l-d-kh">
        <span class="p-15-d-kh">Restart the server: </span>
        <img class="img-btn-kh m-10-d-r-kh m-10-m-r-kh" onclick="kameHouse.extension.serverManager.confirmRebootServer()" 
          src="/kame-house/img/pc/shutdown-red.png" alt="Reboot" title="Reboot"/>
      </div>
    </td></tr>
    </tbody>
    </table>
    <br><br>
    </div>
    </div>

    <div class="bg-lighter-1-kh p-15-d-kh p-15-m-kh">
    <div class="default-layout p-7-d-kh w-60-pc-kh w-100-pc-m-kh">
      <br>
      <h4 class="h4-kh txt-l-d-kh txt-c-m-kh">System State</h4>
      <br>
      <p>Check the current state of the server running KameHouse. Also check the status of the apache httpd server and restart the process if needed</p>
      <br>
      <div id="system-state-commands">
        <div class="system-state-command">
          <span class="bold-kh">Uptime: </span>
          <img class="img-btn-kh m-7-d-r-kh" onclick="kameHouse.extension.serverManager.uptime()" 
            src="/kame-house/img/other/clock-gray.png" alt="uptime" title="uptime"/>
        </div>
        <div class="system-state-command">
          <span class="bold-kh p-15-d-kh">Memory usage: </span>
          <img class="img-btn-kh m-7-d-r-kh" onclick="kameHouse.extension.serverManager.free()" 
            src="/kame-house/img/pc/ram-green.png" alt="free" title="free"/>
        </div>
        <div class="system-state-command">
          <span class="bold-kh m-25-d-l-kh">Disk usage: </span>
          <img class="img-btn-kh m-7-d-r-kh" onclick="kameHouse.extension.serverManager.df()" 
            src="/kame-house/img/pc/hdd-blue.png" alt="df" title="df"/>
        </div>
      </div>
      <br><br>
      <h6 class="h6-kh txt-l-d-kh txt-l-m-kh">Apache Httpd Status</h6>
      <table class="table-kh table-borderless-kh bg-none-kh">
      <caption class="hidden-kh">Apache Httpd</caption>
      <tbody>
      <tr class="hidden-kh">
        <th scope="row" class="hidden-kh">Apache Httpd</th>
      </tr>
      <tr><td>
        <pre><div id="httpd-status" class="httpd-status fl-l-d-kh">Apache httpd status not available</div></pre>
      </td></tr>
      </tbody>
      </table>
      <img class="img-btn-kh m-10-d-r-kh m-10-m-r-kh"
        onclick="kameHouse.extension.serverManager.restartHttpd(true)"
        src="/kame-house/img/mplayer/resume.png" alt="Restart httpd" title="Restart httpd" />
      <img class="img-btn-kh  m-10-d-r-kh m-10-m-r-kh"
        onclick="kameHouse.extension.serverManager.getHttpdStatus(true)"
        src="/kame-house/img/other/sync-btn-info.png" 
        alt="Refresh httpd Status" title="Refresh httpd Status" />
      <br><br><br>
      
      <button class="collapsible-kh collapsible-kh-btn">System State Command Output</button>
      <div class="collapsible-kh-content">
        <pre class="console-output system-state-command-output"><div id="system-command-output">No command executed yet...</div></pre>
      </div>
      <br>
    </div>
    </div>

    <div class="p-15-d-kh p-15-m-kh">
    <div class="default-layout media-server-section">
      <br>
      <h5 class="h5-kh txt-c-m-kh">Media Server</h5>
      <br>
      <p>The media server contains the media drive with all my videos and playlists</p>
      <p>Use the WakeOnLan command to power on the media server when it's stopped</p>
      <span class="h6-kh txt-l-d-kh txt-l-m-kh m-15-d-kh">Wake On Lan</span>
      <img class="img-btn-kh"
        onclick="kameHouse.extension.serverManager.execAdminWakeOnLan('/power-management/wol', 'media.server')"
        src="/kame-house/img/pc/wol-red.png" alt="WOL media server"
        title="WOL media server" />
      <br><br>
    </div>
    </div>

    <div class="default-layout txt-c-d-kh txt-c-m-kh">
      <span id="debug-mode-button-wrapper" class="debug-mode-btn-hidden"></span>
    </div>
  </div> <!-- server-management -->
  <span id="debug-mode-wrapper"></span>
  </div> <!-- main-body -->
  <script src="/kame-house/js/admin/server-management.js"></script>
  <script src="/kame-house/kamehouse/js/plugin/kamehouse-modal.js"></script>
  <script src="/kame-house/kamehouse/js/plugin/kamehouse-debugger.js"></script>
  <script src="/kame-house/kamehouse/js/plugin/kamehouse-system-command.js"></script>
  <script src="/kame-house/kamehouse/js/plugin/kamehouse-sticky-back-to-top.js"></script>
</body>
</html>
